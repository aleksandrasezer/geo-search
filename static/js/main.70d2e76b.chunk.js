(this["webpackJsonpgeo-search"]=this["webpackJsonpgeo-search"]||[]).push([[0],{22:function(e,t,r){e.exports={geoListCont:"GeoList_geoListCont__DgdVq"}},28:function(e,t,r){},29:function(e,t,r){},55:function(e,t,r){"use strict";r.r(t);var n=r(0),c=r.n(n),i=r(7),s=r.n(i),o=(r(28),r(29),r(23)),a=r(3),u=r(11),d=r(4),l=r(21),j=r.n(l),h=function(e){return j.a.get("http://localhost:3000/locations?q=".concat(e)).then((function(e){return e.data})).catch((function(){return"error"}))},g=Object(u.b)({name:"geoList",initialState:{geoList:[],searchText:"",serverError:!1},reducers:{setGeoList:function(e,t){e.geoList=t.payload},setSearchText:function(e,t){e.searchText=t.payload},setServerError:function(e,t){e.serverError=t.payload}}}),b=g.actions,f=b.setGeoList,v=b.setSearchText,x=b.setServerError,O=g.reducer,p=Object(u.a)({reducer:{geoList:O},middleware:function(e){return e().prepend(d.a)}}),L=r(22),m=r.n(L),T=r(1),_=function(){var e=Object(a.c)((function(e){return e.geoList})),t=e.geoList,r=e.searchText,n=t.length?t.slice().sort((function(e,t){return e.name.indexOf(r)-t.name.indexOf(r)})):t;return Object(T.jsx)("div",{children:n.map((function(e){return Object(T.jsxs)("div",{className:m.a.geoListCont,children:[Object(T.jsx)("div",{children:e.name}),Object(T.jsxs)("div",{children:[e.latitude,",",e.longitude]})]},e.geonameid)}))})},C=r(8),S=r.n(C),E=function(){var e=Object(a.b)(),t=Object(a.c)((function(e){return e.geoList})),r=t.searchText,c=t.serverError,i=Object(n.useState)(!1),s=Object(o.a)(i,2),u=s[0],d=s[1],l=function(e){return/[^a-zA-Z0-9\s]/.test(e)||e.length<2};return Object(n.useEffect)((function(){r.length&&e((function(e){var t=p.getState().geoList.searchText;h(t).then((function(t){e("error"===t?x(!0):f(t))}))}))}),[e,r.length]),Object(T.jsxs)("div",{children:[Object(T.jsx)("div",{children:Object(T.jsx)("h1",{children:"Search Great Britain locations"})}),c?Object(T.jsx)("div",{className:S.a.serverError,children:"Server is not responding.. Please try again later."}):Object(T.jsxs)("div",{children:[Object(T.jsx)("div",{className:u?S.a.errorInput:S.a.inputCont,children:Object(T.jsx)("input",{onChange:function(t){var r,n=t.currentTarget.value;l(n)?d(!0):e(v(n.toLowerCase())),r=t.currentTarget.value,/[a-zA-Z0-9\s]/.test(r)&&r.length>1&&d(!1),l(n)&&d(!0)}})}),u?Object(T.jsx)("div",{style:{color:"red"},children:"Please enter min. 2 characters. Letters or numbers."}):Object(T.jsx)(_,{})]})]})};var w=function(){return Object(T.jsx)("div",{className:"App",children:Object(T.jsx)(E,{})})},y=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,56)).then((function(t){var r=t.getCLS,n=t.getFID,c=t.getFCP,i=t.getLCP,s=t.getTTFB;r(e),n(e),c(e),i(e),s(e)}))};s.a.render(Object(T.jsx)(c.a.StrictMode,{children:Object(T.jsx)(a.a,{store:p,children:Object(T.jsx)(w,{})})}),document.getElementById("root")),y()},8:function(e,t,r){e.exports={inputCont:"Main_inputCont__30wcL",errorInput:"Main_errorInput__wqoNP",serverError:"Main_serverError__fTQdI"}}},[[55,1,2]]]);
//# sourceMappingURL=main.70d2e76b.chunk.js.map